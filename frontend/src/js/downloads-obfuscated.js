const a1_0x273dbc=a1_0x2cbd;(function(_0x3b5597,_0x20cd1b){const _0x33a3f8=a1_0x2cbd,_0xa1f01d=_0x3b5597();while(!![]){try{const _0x373e0c=-parseInt(_0x33a3f8(0x1f4))/0x1*(parseInt(_0x33a3f8(0x1bc))/0x2)+-parseInt(_0x33a3f8(0x210))/0x3+-parseInt(_0x33a3f8(0x221))/0x4+-parseInt(_0x33a3f8(0x215))/0x5*(parseInt(_0x33a3f8(0x222))/0x6)+parseInt(_0x33a3f8(0x200))/0x7+-parseInt(_0x33a3f8(0x20b))/0x8*(parseInt(_0x33a3f8(0x1c6))/0x9)+-parseInt(_0x33a3f8(0x1d1))/0xa*(-parseInt(_0x33a3f8(0x1ec))/0xb);if(_0x373e0c===_0x20cd1b)break;else _0xa1f01d['push'](_0xa1f01d['shift']());}catch(_0x3c5977){_0xa1f01d['push'](_0xa1f01d['shift']());}}}(a1_0x2c61,0x843f1));let web3Modal,provider,selectedAccount,web3,evmChains;async function init(){const _0x473a89=a1_0x2cbd,_0x2f2120=window[_0x473a89(0x1bd)][_0x473a89(0x1dc)];evmChains=window[_0x473a89(0x1fd)],console[_0x473a89(0x1eb)]('Initializing\x20example'),console[_0x473a89(0x1eb)](_0x473a89(0x1c0),window[_0x473a89(0x20f)],_0x473a89(0x1b7),window[_0x473a89(0x206)]);const _0x20ea55={};web3Modal=new _0x2f2120({'cacheProvider':![],'providerOptions':_0x20ea55,'disableInjectedProvider':![]}),console['log'](_0x473a89(0x1e2),web3Modal);}async function switchNetwork(_0x54e36f,_0x7ee402,_0x3bc2cb,_0x48883a){const _0x1190ac=a1_0x2cbd;if(window[_0x1190ac(0x206)][_0x1190ac(0x1da)]!==_0x7ee402)try{await window['ethereum'][_0x1190ac(0x1f3)]({'method':_0x1190ac(0x1d0),'params':[{'chainId':_0x54e36f[_0x1190ac(0x1d5)]['toHex'](_0x7ee402)}]});}catch(_0x79771d){_0x79771d['code']===0x1326&&await window[_0x1190ac(0x206)][_0x1190ac(0x1f3)]({'method':'wallet_addEthereumChain','params':[{'chainName':_0x3bc2cb,'chainId':_0x54e36f[_0x1190ac(0x1d5)][_0x1190ac(0x1c5)](_0x7ee402),'nativeCurrency':{'name':_0x1190ac(0x1ed),'decimals':0x12,'symbol':_0x1190ac(0x1ed)},'rpcUrls':[_0x48883a]}]});}}function createCatalog(_0x14ace1,_0x1cee6d,_0x536292,_0x32ee72,_0x255bf4){const _0x354c21=a1_0x2cbd,_0xdbb135=document[_0x354c21(0x212)](_0x354c21(0x219)),_0x5f1998=document[_0x354c21(0x212)](_0x354c21(0x1db)),_0xca4c5a=_0xdbb135[_0x354c21(0x1fc)][_0x354c21(0x1d6)](!![]);_0xca4c5a[_0x354c21(0x212)](_0x354c21(0x1be))[_0x354c21(0x209)]=_0x14ace1,_0xca4c5a[_0x354c21(0x212)](_0x354c21(0x21b))[_0x354c21(0x1ee)]=_0x1cee6d;let _0x371aba=_0xca4c5a[_0x354c21(0x212)]('.download-btn');_0x371aba[_0x354c21(0x1c1)]['display']=_0x536292?_0x354c21(0x1ef):_0x354c21(0x1fe),_0x371aba[_0x354c21(0x1e0)](_0x354c21(0x21e),'submitOwnershipProof('+_0x32ee72+',\x20\x22'+selectedAccount[_0x354c21(0x202)]()+_0x354c21(0x1c4)+_0x255bf4+'\x22)'),_0x5f1998[_0x354c21(0x1b8)](_0xca4c5a);}async function submitOwnershipProof(_0x5eac9c,_0x4b38ea,_0x5b79b7){const _0x172759=a1_0x2cbd;let _0x48714a=_0x5eac9c+':'+_0x5b79b7;console['log'](JSON['stringify'](_0x48714a));const _0x5348d4=await web3[_0x172759(0x1bb)][_0x172759(0x1fa)][_0x172759(0x214)](_0x48714a,selectedAccount);let _0x311a37=btoa(_0x48714a),_0x519106=btoa(_0x5348d4);fetch(_0x172759(0x1d7),{'method':_0x172759(0x1e9),'headers':{'authorization':'Bearer\x20'+_0x311a37+'.'+_0x519106}})[_0x172759(0x1e3)](_0x27c459=>_0x27c459['blob']())[_0x172759(0x1e3)](_0x167906=>{const _0x32e60c=_0x172759;var _0x4fc3bc=window[_0x32e60c(0x1cb)]['createObjectURL'](_0x167906),_0x21ea45=document[_0x32e60c(0x20a)]('a');_0x21ea45[_0x32e60c(0x1d3)]=_0x4fc3bc,_0x21ea45[_0x32e60c(0x213)]=_0x5eac9c+'.zip',document['body'][_0x32e60c(0x1b8)](_0x21ea45),_0x21ea45[_0x32e60c(0x1c3)](),_0x21ea45[_0x32e60c(0x1f0)]();}),console[_0x172759(0x1eb)]('I\x20am\x20token\x20'+_0x5eac9c+'\x20Clicked,\x20Contract\x20'+_0x5b79b7+',\x20owned\x20by\x20Account\x20'+_0x4b38ea['toString']()+'\x20');}async function fetchAccountData(){const _0x121aae=a1_0x2cbd;web3=new Web3(provider);const _0x5a61d6=new Proxy(new URLSearchParams(window['location'][_0x121aae(0x1fb)]),{'get':(_0x2ab4c6,_0x56ea5c)=>_0x2ab4c6['get'](_0x56ea5c)});if(_0x5a61d6[_0x121aae(0x20c)]&&_0x5a61d6[_0x121aae(0x20c)]==_0x121aae(0x1f9)){if(window['ethereum'][_0x121aae(0x1da)]!==_0x121aae(0x1b9)){switchNetwork(web3,0x89,'Polygon','https://polygon-rpc.com');return;}}else{if(window['ethereum']['networkVersion']!=='80001'){switchNetwork(web3,0x13881,_0x121aae(0x21a),_0x121aae(0x1f5));return;}}const _0x404828=(await(await fetch(_0x121aae(0x1d9)))[_0x121aae(0x1f2)]())[_0x121aae(0x220)],_0x11c3b0=[{'inputs':[{'internalType':_0x121aae(0x1cd),'name':_0x121aae(0x1e6),'type':_0x121aae(0x1cd)}],'name':'tokenURI','outputs':[{'internalType':_0x121aae(0x1b6),'name':'','type':_0x121aae(0x1b6)}],'stateMutability':'view','type':'function'},{'inputs':[{'internalType':_0x121aae(0x208),'name':_0x121aae(0x1f6),'type':_0x121aae(0x208)}],'name':_0x121aae(0x1ff),'outputs':[{'internalType':_0x121aae(0x1cd),'name':'','type':_0x121aae(0x1cd)}],'stateMutability':'view','type':'function'},{'inputs':[{'internalType':_0x121aae(0x208),'name':_0x121aae(0x1f6),'type':_0x121aae(0x208)},{'internalType':_0x121aae(0x1cd),'name':_0x121aae(0x203),'type':_0x121aae(0x1cd)}],'name':_0x121aae(0x21f),'outputs':[{'internalType':_0x121aae(0x1cd),'name':'','type':'uint256'}],'stateMutability':_0x121aae(0x1cf),'type':'function'},{'inputs':[],'name':_0x121aae(0x20e),'outputs':[{'internalType':'uint256','name':_0x121aae(0x21d),'type':'uint256'}],'stateMutability':_0x121aae(0x1cf),'type':'function'},{'inputs':[{'internalType':_0x121aae(0x1cd),'name':_0x121aae(0x1e6),'type':'uint256'}],'name':_0x121aae(0x205),'outputs':[{'internalType':'address','name':'','type':_0x121aae(0x208)}],'stateMutability':_0x121aae(0x1cf),'type':_0x121aae(0x1c9)}];console[_0x121aae(0x1eb)](_0x121aae(0x1e8),web3);const _0x4cdb63=await web3[_0x121aae(0x1bb)][_0x121aae(0x1f8)](),_0xa780b4=_0x121aae(0x1c7),_0x8f1f6f=evmChains[_0x121aae(0x1d8)](_0x4cdb63),_0x212430=await web3[_0x121aae(0x1bb)][_0x121aae(0x1c2)]();console['log']('Got\x20accounts',_0x212430),selectedAccount=_0x212430[0x0];const _0x44fee1=new web3[(_0x121aae(0x1bb))][(_0x121aae(0x1bf))](_0x11c3b0,_0x404828);myNode=document[_0x121aae(0x212)]('#download-row');while(myNode[_0x121aae(0x21c)]){myNode[_0x121aae(0x211)](myNode[_0x121aae(0x1e1)]);}const _0x4130f5=await _0x44fee1[_0x121aae(0x1ca)][_0x121aae(0x20e)]()[_0x121aae(0x1e5)]();for(let _0x1a26a3=0x1;_0x1a26a3<=_0x4130f5;_0x1a26a3++){const _0x1f3cc8=await _0x44fee1[_0x121aae(0x1ca)][_0x121aae(0x201)](_0x1a26a3)['call']();console['log'](_0x121aae(0x1c8)+_0x1a26a3+_0x121aae(0x1b3)+_0x1f3cc8),metadata=await(await fetch(_0x121aae(0x1ba)+_0x1f3cc8[_0x121aae(0x1df)](0x7)))[_0x121aae(0x1f2)](),imgCID=metadata[_0x121aae(0x1ea)],imageURL=_0x121aae(0x1ba)+imgCID[_0x121aae(0x1df)](0x7),console[_0x121aae(0x1eb)](imageURL);const _0x4a45e8=await _0x44fee1['methods'][_0x121aae(0x205)](_0x1a26a3)['call']();createCatalog(imageURL,metadata[_0x121aae(0x1d4)],selectedAccount==_0x4a45e8,_0x1a26a3,_0x404828);}document[_0x121aae(0x212)](_0x121aae(0x218))[_0x121aae(0x1c1)]['display']=_0x121aae(0x1fe),document[_0x121aae(0x212)](_0x121aae(0x1de))['style'][_0x121aae(0x1e7)]=_0x121aae(0x1ef);}function a1_0x2c61(){const _0x29cffc=['download','sign','2791685GJrIwL','networkChanged','DOMContentLoaded','#prepare','#template-downloads','Mumbai','.image-description','firstChild','supply','onclick','tokenOfOwnerByIndex','contract_address','2220320aiHCGD','6QlYqoN',',\x20Token\x20URI\x20','#btn-disconnect','close','string','window.ethereum\x20is','appendChild','137','https://cloudflare-ipfs.com/ipfs/','eth','8aMdIXr','Web3Modal','.image-location','Contract','window.web3\x20is','style','getAccounts','click','\x22,\x20\x22','toHex','10053AlNyRB','Hello\x20World','Token\x20id\x20','function','methods','URL','addEventListener','uint256','Opening\x20a\x20dialog','view','wallet_switchEthereumChain','33340OQUOaB','accountsChanged','href','name','utils','cloneNode','/api/download','getChain','/api/contract_address','networkVersion','#download-row','default','connect','#connected','slice','setAttribute','lastChild','Web3Modal\x20instance\x20is','then','#btn-connect','call','tokenId','display','Web3\x20instance\x20is','GET','image','log','11330JclELt','MATIC','textContent','block','remove','disabled','json','request','182606piYTns','https://matic-mumbai.chainstacklabs.com/','owner','Could\x20not\x20get\x20a\x20wallet\x20connection','getChainId','live','personal','search','content','evmChains','none','balanceOf','2023952AJqfDk','tokenURI','toString','index','chainChanged','ownerOf','ethereum','clearCachedProvider','address','src','createElement','4832uHntDq','network','Killing\x20the\x20wallet\x20connection','totalSupply','web3','1988898ItGyYL','removeChild','querySelector'];a1_0x2c61=function(){return _0x29cffc;};return a1_0x2c61();}async function refreshAccountData(){const _0x228ce8=a1_0x2cbd;document[_0x228ce8(0x212)]('#connected')[_0x228ce8(0x1c1)]['display']=_0x228ce8(0x1fe),document[_0x228ce8(0x212)](_0x228ce8(0x218))['style'][_0x228ce8(0x1e7)]=_0x228ce8(0x1ef),document[_0x228ce8(0x212)](_0x228ce8(0x1e4))['setAttribute']('disabled',_0x228ce8(0x1f1));let _0x1f29b9=document[_0x228ce8(0x212)](_0x228ce8(0x1db));while(_0x1f29b9[_0x228ce8(0x21c)]){_0x1f29b9[_0x228ce8(0x211)](_0x1f29b9[_0x228ce8(0x1e1)]);}await fetchAccountData(provider),document[_0x228ce8(0x212)](_0x228ce8(0x1e4))['removeAttribute'](_0x228ce8(0x1f1));}function a1_0x2cbd(_0xbd9f0e,_0x14ef4f){const _0x2c6138=a1_0x2c61();return a1_0x2cbd=function(_0x2cbd9d,_0x1990cd){_0x2cbd9d=_0x2cbd9d-0x1b3;let _0x1f46d9=_0x2c6138[_0x2cbd9d];return _0x1f46d9;},a1_0x2cbd(_0xbd9f0e,_0x14ef4f);}async function onConnect(){const _0x137f29=a1_0x2cbd;console[_0x137f29(0x1eb)](_0x137f29(0x1ce),web3Modal);try{provider=await web3Modal[_0x137f29(0x1dd)]();}catch(_0x322faa){console['log']('Could\x20not\x20get\x20a\x20wallet\x20connection',_0x322faa),alert(_0x137f29(0x1f7));return;}provider['on'](_0x137f29(0x1d2),_0x5abd0f=>{fetchAccountData();}),provider['on'](_0x137f29(0x204),_0x38c176=>{fetchAccountData();}),provider['on'](_0x137f29(0x216),_0x460e55=>{fetchAccountData();}),await refreshAccountData();}async function onDisconnect(){const _0x35b5b2=a1_0x2cbd;console['log'](_0x35b5b2(0x20d),provider),provider[_0x35b5b2(0x1b5)]&&(await provider['close'](),await web3Modal[_0x35b5b2(0x207)](),provider=null),selectedAccount=null,document['querySelector'](_0x35b5b2(0x218))[_0x35b5b2(0x1c1)][_0x35b5b2(0x1e7)]='block',document[_0x35b5b2(0x212)](_0x35b5b2(0x1de))['style']['display']=_0x35b5b2(0x1fe);}window[a1_0x273dbc(0x1cc)](a1_0x273dbc(0x217),_0x3bf485=>{const _0x4f3262=a1_0x273dbc;init(),onConnect(),document[_0x4f3262(0x212)]('#btn-connect')['addEventListener'](_0x4f3262(0x1c3),onConnect),document[_0x4f3262(0x212)](_0x4f3262(0x1b4))[_0x4f3262(0x1cc)](_0x4f3262(0x1c3),onDisconnect),document[_0x4f3262(0x212)]('#prepare')[_0x4f3262(0x1c1)][_0x4f3262(0x1e7)]=_0x4f3262(0x1ef),document[_0x4f3262(0x212)](_0x4f3262(0x1de))[_0x4f3262(0x1c1)][_0x4f3262(0x1e7)]=_0x4f3262(0x1fe);});